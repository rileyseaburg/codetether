---
title: "AI Providers"
description: "Configure and use multiple AI providers"
---

## Overview

CodeTether Agent supports 15+ AI providers through a unified interface. Models are fetched from the [CodeTether Models API](https://api.codetether.run/static/models/api.json).

## Supported Providers

| Provider | Models | Features |
|----------|--------|----------|
| **OpenAI** | GPT-4o, GPT-4, o3, o4-mini | Tools, Vision, Streaming |
| **Anthropic** | Claude Opus 4, Sonnet 4, Haiku | Tools, Vision, Extended Context |
| **Google** | Gemini 2.5 Pro, Flash | Tools, Vision, 1M Context |
| **DeepSeek** | DeepSeek V3, Coder | Tools, Reasoning |
| **Groq** | Llama 3.3, Mixtral | Fast Inference |
| **Mistral** | Mistral Large, Codestral | Tools, Code |
| **xAI** | Grok 2, Grok 3 | Tools, Reasoning |
| **Together** | Llama, Qwen, DeepSeek | Open Models |
| **Fireworks** | Various open models | Fast Inference |
| **Cohere** | Command R+ | Enterprise |
| **Azure OpenAI** | GPT-4, GPT-4o | Enterprise |
| **Amazon Bedrock** | Claude, Titan | AWS Integration |
| **OpenRouter** | Multi-provider routing | Fallback |

## Configuration

### Store API Keys in Vault

Each provider needs its API key stored in HashiCorp Vault:

```bash
# OpenAI
vault kv put secret/codetether/providers/openai api_key="sk-..."

# Anthropic  
vault kv put secret/codetether/providers/anthropic api_key="sk-ant-..."

# Google AI
vault kv put secret/codetether/providers/google api_key="AIza..."

# DeepSeek
vault kv put secret/codetether/providers/deepseek api_key="..."

# And so on for other providers...
```

### Set Default Provider

In `~/.config/codetether-agent/config.toml`:

```toml
[default]
provider = "anthropic"
model = "claude-sonnet-4-20250514"
```

## Model Selection

### Automatic Model Discovery

Available models are automatically discovered based on which providers have API keys configured:

```bash
# Only shows models for providers with Vault secrets
codetether models list
```

### Recommended Models for Coding

| Task | Recommended Model | Provider |
|------|------------------|----------|
| Complex Development | Claude Opus 4 | Anthropic |
| General Coding | Claude Sonnet 4 | Anthropic |
| Fast Iteration | GPT-4o | OpenAI |
| Long Context | Gemini 2.5 Pro | Google |
| Cost-Effective | DeepSeek V3 | DeepSeek |

## Provider-Specific Setup

### OpenAI

```bash
vault kv put secret/codetether/providers/openai \
  api_key="sk-..." \
  organization="org-..."  # Optional
```

### Anthropic

```bash
vault kv put secret/codetether/providers/anthropic \
  api_key="sk-ant-..."
```

### Google AI

```bash
vault kv put secret/codetether/providers/google \
  api_key="AIza..."
```

### Azure OpenAI

```bash
vault kv put secret/codetether/providers/azure-openai \
  api_key="..." \
  base_url="https://your-resource.openai.azure.com"
```

### Amazon Bedrock

```bash
vault kv put secret/codetether/providers/amazon-bedrock \
  api_key="$AWS_ACCESS_KEY_ID" \
  base_url="$AWS_SECRET_ACCESS_KEY"
```

## Model Capabilities

### Tool Calling

Most models support tool calling for file operations, search, etc.

```json
{
  "tool_call": true,
  "tools": ["read_file", "write_file", "bash", "grep"]
}
```

### Vision

Models with vision can analyze images and screenshots:

```json
{
  "attachment": true,
  "modalities": {
    "input": ["text", "image"],
    "output": ["text"]
  }
}
```

### Extended Context

Some models support very long contexts:

| Model | Context Window |
|-------|---------------|
| Gemini 2.5 Pro | 1,000,000 tokens |
| Claude Opus 4 | 200,000 tokens |
| GPT-4o | 128,000 tokens |

## Pricing

Pricing is fetched from the Models API (per million tokens):

| Model | Input | Output |
|-------|-------|--------|
| Claude Opus 4 | $15.00 | $75.00 |
| Claude Sonnet 4 | $3.00 | $15.00 |
| GPT-4o | $2.50 | $10.00 |
| Gemini 2.5 Pro | $1.25 | $10.00 |
| DeepSeek V3 | $0.27 | $1.10 |

## Fallback Configuration

Configure fallback providers for reliability:

```toml
# config.toml
[providers]
primary = "anthropic"
fallback = ["openai", "google"]
```

## Troubleshooting

### "No models available"

Ensure at least one provider has an API key in Vault:

```bash
vault kv list secret/codetether/providers
```

### "Model not found"

Check the model ID matches exactly:

```bash
# Correct
model = "claude-sonnet-4-20250514"

# Wrong
model = "claude-sonnet"
```

### Rate Limiting

If you hit rate limits, the agent will automatically retry with exponential backoff.
